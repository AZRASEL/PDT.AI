<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300">
  <!-- Background -->
  <rect width="100%" height="100%" fill="#f5f5f5" rx="10" ry="10" />
  
  <!-- Light source -->
  <g transform="translate(200, 80)">
    <!-- Light device -->
    <rect x="-30" y="-20" width="60" height="40" rx="5" ry="5" fill="#9fa8da" stroke="#7986cb" stroke-width="2" />
    
    <!-- Light beam -->
    <defs>
      <linearGradient id="beamGradient" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" style="stop-color:#3f51b5;stop-opacity:0.8" />
        <stop offset="100%" style="stop-color:#3f51b5;stop-opacity:0" />
      </linearGradient>
    </defs>
    
    <path d="M-20,20 L-50,150 L50,150 L20,20 Z" fill="url(#beamGradient)">
      <animate attributeName="opacity" values="0.7;0.9;0.7" dur="3s" repeatCount="indefinite" />
    </path>
    
    <!-- Light source indicator -->
    <circle cx="0" cy="0" r="10" fill="#ff4081">
      <animate attributeName="opacity" values="0.7;1;0.7" dur="1s" repeatCount="indefinite" />
    </circle>
  </g>
  
  <!-- Tissue layers -->
  <g transform="translate(200, 200)">
    <!-- Epidermis -->
    <path d="M-100,0 C-80,-5 -60,5 -40,0 C-20,-5 0,5 20,0 C40,-5 60,5 80,0 C90,-2 95,0 100,0 L100,15 L-100,15 Z" fill="#ffcdd2" />
    
    <!-- Dermis -->
    <path d="M-100,15 L100,15 L100,40 L-100,40 Z" fill="#ef9a9a" />
    
    <!-- Subcutaneous -->
    <path d="M-100,40 L100,40 L100,60 L-100,60 Z" fill="#e57373" />
    
    <!-- Tumor -->
    <ellipse cx="0" cy="30" rx="30" ry="15" fill="#d32f2f" opacity="0.8">
      <animate attributeName="opacity" values="0.7;0.9;0.7" dur="3s" repeatCount="indefinite" />
    </ellipse>
    
    <!-- Photosensitizer particles -->
    <g>
      <circle cx="-15" cy="25" r="2" fill="#ff4081">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite" />
      </circle>
      <circle cx="0" cy="30" r="2" fill="#ff4081">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite" begin="0.3s" />
      </circle>
      <circle cx="15" cy="35" r="2" fill="#ff4081">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite" begin="0.6s" />
      </circle>
      <circle cx="-10" cy="35" r="2" fill="#ff4081">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite" begin="0.9s" />
      </circle>
      <circle cx="10" cy="25" r="2" fill="#ff4081">
        <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite" begin="1.2s" />
      </circle>
    </g>
  </g>
  
  <!-- Parameter controls -->
  <g transform="translate(70, 100)">
    <!-- Wavelength slider -->
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="10" fill="#3f51b5">Wavelength</text>
    <line x1="0" y1="10" x2="60" y2="10" stroke="#bdbdbd" stroke-width="2" stroke-linecap="round" />
    <circle cx="30" cy="10" r="5" fill="#3f51b5" />
    
    <!-- Fluence slider -->
    <text x="0" y="30" font-family="Arial, sans-serif" font-size="10" fill="#3f51b5">Fluence</text>
    <line x1="0" y1="40" x2="60" y2="40" stroke="#bdbdbd" stroke-width="2" stroke-linecap="round" />
    <circle cx="40" cy="40" r="5" fill="#3f51b5" />
    
    <!-- Dose slider -->
    <text x="0" y="60" font-family="Arial, sans-serif" font-size="10" fill="#3f51b5">PS Dose</text>
    <line x1="0" y1="70" x2="60" y2="70" stroke="#bdbdbd" stroke-width="2" stroke-linecap="round" />
    <circle cx="20" cy="70" r="5" fill="#3f51b5" />
  </g>
  
  <!-- Results display -->
  <g transform="translate(330, 100)">
    <!-- Depth indicator -->
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="10" text-anchor="end" fill="#3f51b5">Depth</text>
    <rect x="-60" y="5" width="60" height="10" rx="2" ry="2" fill="#e8eaf6" stroke="#c5cae9" stroke-width="1" />
    <rect x="-45" y="5" width="45" height="10" rx="2" ry="2" fill="#3f51b5" opacity="0.7" />
    
    <!-- Time indicator -->
    <text x="0" y="30" font-family="Arial, sans-serif" font-size="10" text-anchor="end" fill="#3f51b5">Time</text>
    <rect x="-60" y="35" width="60" height="10" rx="2" ry="2" fill="#e8eaf6" stroke="#c5cae9" stroke-width="1" />
    <rect x="-30" y="35" width="30" height="10" rx="2" ry="2" fill="#3f51b5" opacity="0.7" />
    
    <!-- Efficacy indicator -->
    <text x="0" y="60" font-family="Arial, sans-serif" font-size="10" text-anchor="end" fill="#3f51b5">Efficacy</text>
    <rect x="-60" y="65" width="60" height="10" rx="2" ry="2" fill="#e8eaf6" stroke="#c5cae9" stroke-width="1" />
    <rect x="-50" y="65" width="50" height="10" rx="2" ry="2" fill="#3f51b5" opacity="0.7" />
  </g>
  
  <!-- Title -->
  <g transform="translate(200, 250)">
    <text text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#3f51b5">Treatment Plan</text>
  </g>
</svg>